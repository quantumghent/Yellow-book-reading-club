\subsection{Bosonization}
In the discussion of free compact boson theory, we have seen the vertex operator $V_1 = \mathop{:}e^{i\phi(z,\overline{z})}\mathop{:}$ has the same scaling dimension as a fermion operator and more importantly the free complex fermion and and the free compact boson (with a radius $R=1$) share the same partiton function. These facts indicate that the fermion and boson theories are dual to each other. 

\subsubsection{Free compact boson}
Here we review the free compact boson theory in (1+1) d
\begin{equation}
	S = \frac{1}{4\pi K} \int \partial \varphi \overline{\partial}\varphi,
\end{equation}
where we used the convention in the note. Under this convention, the two-point correlation of free boson $\langle \varphi (x) \varphi(y) \rangle = -2 K \log (r)$. However, it is clear that $K$ is directly related to the compactified radius $R$ of $\varphi$, meaning that one has the freedom to fix either $K$ or $R$ to a constant without causing any trouble. We introduce $\tilde{R} := R/\sqrt{K}$ for convenience. Then the scalar is compactified as $\varphi \sim \varphi + 2\pi \tilde{R}\sqrt{K}$. %Here we thus set $K=1$ to simplify the notation
%\begin{equation}
%	S = \frac{1}{4\pi} \int \partial \varphi \overline{\partial}\varphi.
%\end{equation}
%Or we can take another way in which we keep the $K$ factor and set the compact boson %always compactified as $\varphi \sim \varphi + 2\pi$. In condensed matter community, %it is usually taken the second one.

With the chiral mass center introduced above the chiral part of the compact boson field $\varphi(z,\overline{z}) = \phi(z) + \overline{\phi}(\overline{z})$ can be expanded in terms of current operators. Recall that the two-point correlation of free boson $\langle \varphi (x) \varphi(y) \rangle = -2 K \log (r)$~\footnote{In Ref.~\cite{Blumenhagen:2009zz}, $K$ is set to be $K=1$.}. The current operator can be defind as 
\begin{equation}
	j(z) = i \partial \varphi/\sqrt{K},
\end{equation} 
which ensures the the current operator normalized as $\langle j(z) j(z^\prime) \rangle = 1/z^2$.

The chiral/anti-chiral part of the free compact boson can be written as ($z$ is defined on the plane)
\begin{equation}
	\begin{split}
		\phi(z)/\sqrt{K} &= \phi_0 -i\,j_0\,\ln \,z + i\,\sum_{n\neq0} \frac{1}{n}\,j_n\,z^{-n} \\
		\overline{\phi}(\overline{z})/\sqrt{K} &= \overline{\phi}_0 -i\,\overline{j}_0\,\ln \, \overline{z} + i\,\sum_{n\neq0} \frac{1}{n}\,\overline{j}_n\,{\overline{z}}^{-n}.
	\end{split}
\end{equation} 
Note here the complex coordinate denotes $z = e^\omega = e^{\tau + i\sigma}$. $\omega$ is the coordinate defined on the cylinder. Whenever we use a quantum theory, we should consult to the radial quantization. In terms of the chiral term, we can write down the free scalar $\varphi = \phi + \overline{\phi}$ and its dual field $\theta = \phi - \overline{\phi}$ as
\begin{equation}
	\begin{split}
		\varphi/\sqrt{K} &= \varphi_0 -i \tau \left(j_0 + \overline{j_0}\right) + \sigma \left(j_0 - \overline{j_0}\right) + i\,\sum_{n\neq0} \frac{1}{n}\,\left( j_n\,z^{-n}+ \overline{j}_n\,{\overline{z}}^{-n}\right)\\
		\theta/\sqrt{K} &= \theta_0 -i \tau \left(j_0 - \overline{j_0}\right) + \sigma \left(j_0 + \overline{j_0}\right) + i\,\sum_{n\neq0} \frac{1}{n}\,\left( j_n\,z^{-n}- \overline{j}_n\,{\overline{z}}^{-n}\right).
	\end{split}
\end{equation}

Let's derive the quantum version (radial quantization) of the free compact boson in terms of the current operator. Recall the Hamiltonian for the free compact boson reads
\begin{equation}
	H = \int dx \left( 2\pi K\, \Pi^2 + \frac{1}{8\pi K} {\left(\partial_x \phi\right)}^2 \right),
\end{equation}
where the canonical momentum $\Pi_\varphi = \frac{1}{4\pi K} \dot{\phi}$, which satisfies the standard canonical commutation (equal-time)
\begin{equation}
	\left[\varphi(x), \ \Pi_\varphi(y) \right] = i\,\delta(x-y)
\end{equation}

The whole theory can be actuall reproduced using the current algebra $j_n$ and $\bar{j}_n$. One can write down (note the quantization is defined on the plane, or the so-called radial quantization)
\begin{equation}
	\begin{aligned}
		\partial_x \varphi &= i\,z\,\partial \varphi - i\,\bar{z}\,\overline{\partial}{\varphi}= j_n/z^n -\overline{j}_n / \overline{z}^n \\
		\partial_t \varphi &= i\,z\,\partial \varphi + i\,\bar{z}\,\overline{\partial} \varphi = j_n/z^n + \overline{j}_n / \overline{z}^n \\
		\partial_x \theta &= i\,z\,\partial \theta - i\,\bar{z}\,\overline{\partial}{\theta}= j_n/z^n +\overline{j}_n / \overline{z}^n = \partial_t \varphi\\
		\partial_t \theta &= i\,z\,\partial \theta + i\,\bar{z}\,\overline{\partial}{\theta}= j_n/z^n - \overline{j}_n / \overline{z}^n = \partial_x \varphi
	\end{aligned}
\end{equation}

One can verify the canonical communicator for the scalar $\varphi$ through the current algebra
\begin{equation}
	\begin{aligned}
		\left[\phi(x),\ \phi(y)\right] &= \left[  \phi_0, -i\,j_0\log (\omega)\right] - \left[  \phi_0, -i\,j_0\log (z)\right] - \sum_{n\neq0} \frac{1}{nm} \left[ j_n, j_m \right] \frac{1}{z^n \omega^m} \\
		&= \log(\omega/z) + \sum_{n\neq0} \frac{1}{n}\frac{\omega^n}{z^n} \\
		&= i \left( y-x \right) - \sum_{n\neq0} \frac{1}{n}e^{i n \left(x-y\right)} \\
		&=-2\pi i \,H(x-y)
	\end{aligned}
\end{equation}
and
\begin{equation}
	\begin{aligned}
		\left[\bar{\phi}(x),\ \bar{\phi}(y)\right]  = 2\pi i \,H(x-y)
	\end{aligned}
\end{equation}
where $H(x)$ is the step function. Now one can easily find that
\begin{equation}
	\begin{aligned}
		\left[\phi(x),\ \partial_y\phi(y)\right] &= i\sum_n e^{in(x-y)} = -2\pi i \delta(x-y) \\
		\left[\bar{\phi}(x),\ \partial_y\bar{\phi}(y)\right] &= -i\sum_n e^{in(x-y)} = -2\pi i \delta(x-y)
	\end{aligned}
\end{equation}
and 
\begin{equation}
	\begin{aligned}
		&\left[\varphi(x), \ \varphi(y)\right] = 0 \\
		&\left[\theta(x), \ \theta(y)\right] = 0 \\
		&\left[\varphi(x), \ \theta(y)\right] = -4\pi i \ H(x-y)\\
		&\left[\varphi(x), \ \Pi_\varphi(y)\right] = \left[\varphi(x), \ \partial_y \theta(y)/4\pi\right] = i\delta(x-y)\\
		&\left[\theta(x), \ \Pi_\theta(y)\right] = \left[\theta(x), \ \partial_y \varphi(y)/4\pi\right] = i\delta(x-y)
	\end{aligned}
\end{equation}

Thus the Hamiltonian can be written down in terms of current operators
\begin{equation}
	\begin{aligned}
		H\,K &= \frac{1}{4\pi} \int_0^{2\pi} d\sigma \sum_{n,m} \left( \frac{j_n j_m}{z^{n+m}} + \frac{\overline{j}_n \overline{j}_m}{{\overline{z}}^{n+m}} \right) \\
		&= \frac{1}{2} j_0 j_0 + \frac{1}{2} \overline{j}_{0} \overline{j}_0 + \sum_{n>0} j_{-n} j_n + \overline{j}_{-n} \overline{j}_n.
	\end{aligned}
\end{equation}
We thus identify the Virasoro generator
\begin{equation}
	\begin{aligned}
		L_0 &= \frac{1}{2K} j_0 j_0 + \frac{1}{K}\sum_{n>0} j_{-n} j_n \\
		\overline{L}_0 &= \frac{1}{2K} \overline{j}_{0} \overline{j}_0 + \frac{1}{K}\sum_{n>0} \overline{j}_{-n} \overline{j}_n.
	\end{aligned}
\end{equation}

It is clear that $j_0$ and $\overline{j}_0$ are converved quantuties. In the following discussions, we will use the notation $j_0$ interchangably to represent both the operator and its charge. Now let's derive their charges in the quanttum theory. This relies on the modular invariance of the torus partition function. Thanks to the current operator algebra, we can construct the Hilbert space as
\begin{equation}
	\vert j_0;\ n_1, n_2,n_3,\dots \rangle = j_{-1}^{n_1}\,j_{-2}^{n_2} j_{-3}^{n_3} \dots \vert j_0\rangle, 
\end{equation}
where $j_0$ is a conserved quantity. The torus partition function thus reads
\begin{equation}
	Z_{cir}(q,\overline{q}) = q^{j_0^2/2K} \, \overline{q}^{\overline{j}_0^2/2K} \, Z^{\prime}_{boson} (q,\overline{q}),
\end{equation}
where $Z^\prime_{boson}$ denotes the part without zero modes. A modular $T$ transformation $\tau \rightarrow \tau + 1, \overline{\tau} \rightarrow \overline{\tau} + 1$ induces $q \rightarrow e^{2\pi i}q$ and $\overline{q} \rightarrow e^{-2\pi i}\overline{q}$. Note that the constant $K$ in the Hamiltonian does not change the energy spectrum and Hilbert space at all, which can be absorbed into the definition of the modular parameter $q$ and $\overline{q}$. 

The partition function reads
\begin{equation}
	\begin{aligned}
		Z_{cir}(e^{2\pi i}q,e^{-2\pi i}\overline{q}) &= e^{2\pi i \left(j_0^2 - \overline{j}_0^2\right)/2} \, q^{j_0^2/2} \, \overline{q}^{\overline{j}_0^2/2} \, Z^{\prime}_{boson} (q,\overline{q}) \\
		&=e^{2\pi i \left(j_0 - \overline{j}_0\right) \left(j_0 + \overline{j}_0\right)/2} \, q^{j_0^2/2} \, \overline{q}^{\overline{j}_0^2/2} \, Z^{\prime}_{boson} (q,\overline{q}) \\
		&=e^{2\pi i m\, \left(j_0 + \overline{j}_0\right)/2\tilde{R}} \, q^{j_0^2/2} \, \overline{q}^{\overline{j}_0^2/2} \, Z^{\prime}_{boson} (q,\overline{q})
	\end{aligned}
\end{equation}
A modular invariant partition function thus requires 
\begin{equation}
	\left(j_0 + \overline{j}_0\right)/2\tilde{R} = e,
\end{equation}
where the electronic charge $e$ is also an integer\footnote{See a more rigorous argument in the Yellow Book~\cite{francesco2012conformal}}. One then finds the zero mode of the current operator is quantitized to be 
\begin{equation}
	\begin{aligned}
		j_0 &= e \frac{1}{\tilde{R}} + m \frac{\tilde{R}}{2} \\
		\overline{j}_0 &= e \frac{1}{\tilde{R}} - m \frac{\tilde{R}}{2}.
	\end{aligned}
\end{equation}
From the quantization of zero modes $j_0$, it is also clear that the dual scalar $\theta(x)$ is compactified as 
\begin{equation}
	\theta \sim \theta + 4\pi/\tilde{R} \sim \theta + 2\pi \frac{2}{\tilde{R}} \sim \theta + 2\pi \tilde{R}_\theta 
\end{equation}
or in other words the duality transformation ($\varphi \rightarrow  \theta$) changes the radius $\tilde{R} \rightarrow 2/\tilde{R}$.

It is clear now $K$ and $R$ are not independent. The theory is actuall determined by the ratio $\tilde{R} := R/\sqrt{K}$. A parameter $K$ introduced in the action is equivalently to say the free scalar has a compactified radius $R = \sqrt{K}$. We can either choose $K=1$
\begin{equation}
	\begin{aligned}
		\varphi &\sim \varphi + 2\pi R \\
		\theta &\sim \theta + 2\pi/R_\theta \sim \theta + 4\pi/R \\
		V_{e,m} &\sim e^{ie\varphi/R}\,e^{im\theta R/2}
	\end{aligned}
\end{equation}
where the vertex operator has a dimension $\Delta_{e,m} = \frac{1}{2}\left(\left(\frac{e}{R}+\frac{mR}{2}\right)^2,\left(\frac{e}{R}-\frac{mR}{2}\right)^2\right)$, or $R=1$
\begin{equation}
	\begin{aligned}
		\varphi &\sim \varphi + 2\pi \\
		\theta &\sim \theta + 4\pi\,K \\
		V_{e,m} &\sim e^{ie\varphi}\,e^{im\theta/2\,K}
	\end{aligned}
\end{equation}
where $\Delta_{e,m} = \frac{1}{2}\left(\left(e\sqrt{K}+\frac{m}{2\sqrt{K}}\right)^2,\left(e\sqrt{K}-\frac{m}{2\sqrt{K}}\right)^2\right)$. In the later case, one can also redefine $\theta \rightarrow \theta / K$ to simplify the notation. In this note we choose the first convention and set $K=1$. \\

\noindent {\bf Another way to understand the quantization of $j_0 + \overline{j}_0$} \\
 The above derivation for the quantization of $j_0 + \overline{j}_0$ uses the modular invarariance. Another simple way is to look at the conjugate momentum of the scalar $\varphi$
 \begin{equation}
	\Pi_0 = \int dx \, \Pi_\varphi = \int dx \, \frac{1}{4\pi} \left(j_0 + \overline{j}_0\right) + \sum_{n\neq0}... = \frac{j_0+\overline{j}_0}{2}
 \end{equation} 
The vertex operator can be interpreted as the displace operator $e^{i\Pi_0 \varphi}$, which means $e^{i\frac{1}{2}\left(j_0+\overline{j}_0\right)2\pi R}$ is single valued. This gives rise to the quantization condition
\begin{equation}
	\begin{aligned}
		j_0 + \overline{j}_0 \sim \frac{2\,e}{R}
	\end{aligned}
\end{equation}
which means the total momentum has to be integers.

\subsubsection{Symmetries in free compact boson}
In this section we discuss the continuoius symmetry (internal) in the free compact boson. Note that we used $z = \tau + i\sigma$ in the convention, which means
\begin{equation}
	\begin{aligned}
		\phi(z) 
	\end{aligned}
\end{equation}
It is evident that there is a ${U(1)}_\varphi$ symmetry which acts as $\varphi \rightarrow \varphi + \mathrm{constant}$. The corresponding Noether's current reads
\begin{equation}
	j^\mu_\varphi = \partial^\mu \varphi.
\end{equation}  
The componenets are (Note the upper index here)
\begin{equation}
	\begin{aligned}
		&j^0_\varphi \sim \partial^t\varphi = i \left(\partial \varphi + \overline{\partial} {\varphi}\right) \\
		&j^1_\varphi \sim \partial^x\varphi = -i\left( \partial \varphi - \overline{\partial}\varphi \right)
	\end{aligned}
\end{equation}

The charge $Q_\varphi$ (electric) is 
\begin{equation}
	Q_\varphi = \int dx \ j^0_\varphi = 2\pi\left(j_0 + \overline{j}_0\right) = e \frac{4\pi}{R}.
\end{equation}
It indicates that $Q_\varphi$ is nothing but the winding number of the dual scalar $\theta$. Note that we can see this diractly by expressing the charge density in terms of the dual scalar $\theta$ through
\begin{equation}
	\begin{aligned}
		j^0_\varphi = i \left(\partial \varphi + \overline{\partial} \varphi\right) = i \partial_\tau \varphi = \partial_x \theta.
	\end{aligned}
\end{equation}
It is clear that the electric charge $e$ is indeed the winding number of $\theta$ 
\begin{equation}
	Q_\varphi = \int dx \ \partial_x \theta = e \frac{4\pi}{R}
\end{equation}
The charge $e$ of $\varphi$ is the winding number of its dual scalar $\theta$.

The massless free scalar theory also enjoys another ${U(1)}_\theta$ symmetry acting as $\theta \rightarrow \theta + \mathrm{constant}$. From the current operator expression for the Hamiltonian, one can write down the action in terms of the $\theta$ scalar
\begin{equation}
	S = \frac{1}{8\pi}\int {\left(\partial \theta\right)}^2
\end{equation}
which gives a Noether's current
\begin{equation}
	j^\mu_\theta \sim \partial^\mu \theta = \epsilon^{\mu\nu}j_{\varphi\nu}
\end{equation}
whose componenets
\begin{equation}
	\begin{aligned}
		&j^0_\theta \sim \partial^t\theta = i \left(\partial \theta + \overline{\partial} {\theta}\right) = -\partial^x \varphi = -j^1_\varphi\\
		&j^1_\theta \sim \partial^x\theta = -i\left( \partial \theta - \overline{\partial}\theta \right) = -\partial^t \varphi = -j^0_\varphi
	\end{aligned}
\end{equation}
The charge for the $\theta$ scalar, the magnetic charge, reads
\begin{equation}
	Q_\theta = \int dx \ j^0_\theta = \int dx \ \partial_x \varphi = m\,2\pi R.
\end{equation}
The $\theta$ scalar charge $m$ is nothing but the winding number of the scalar field $\varphi$.

In summary, in the massless free compact boson theory, one can show that the charge of a field is the winding number of its dual field. These calculations show fascinating examples of particle-vertex duality. 



\subsubsection{Bosonization dictonary for the free fermion}
Sine the scalar field is dimensionless in free compact boson, the physical quantites should be expressed in terms of the so-called vertex operator.~\footnote{In this note, we assume all physical fields are normalized, even if not explicitly stated.} Due to the quantization of the zero modes for the current operator, the vertex operator should have the structure 
\begin{equation}
	V_{e,m} := e^{i \varphi e/R} e^{i\theta m R/2} = e^{i\phi \left(e/R + mR/2\right)} e^{i\overline{\phi} \left(e/R - mR/2\right)},	
\end{equation}
where $e$ and $m$ denote the electric and magnetic charge respectively.


The simplest way for bosonization of fermions is by matching the conformal dimension of the fermion operator to the vertext operator. Take the left mover $\psi_{+}$, a holomorphic field $\left(1/2,0\right)$, as an example
\begin{equation}
	\begin{aligned}
		&\left\vert e/R + mR/2 \right\vert = 1\\
		&e/R - mR/2 = 0.
	\end{aligned}
\end{equation}
One can easily find two solutions, either $V_{\frac{1}{2},1}$ with $R=1$ or $V_{1,\frac{1}{2}}$ with $R=2$. These two solutions are equivalent to each other since they are related to each other through a duality transformation $\varphi \rightarrow \theta$. 

Here we take the first one ($R=1$) to build up the bosonization dictonary for the free fermion. One can see that the fermion operator corresponds to a half charge boson operator, which means that the fermion degrees of freedom are always in pairs when using the bosonization to study a fermion theory.

Note that one has the freedom to set the creation or annihalation operator to be the vertext operator. For example
\begin{equation}
	\begin{aligned}
		&\psi^{\dagger}_{+} \sim V_{(\frac{1}{2},1)} \sim e^{i \phi} \\
		&{\psi}^{\dagger}_{-} \sim V_{(\frac{1}{2},-1)} \sim e^{i\overline{\phi}}.
	\end{aligned}
\end{equation}
However, it is better to choose a different convention
\begin{equation}
	\begin{aligned}
		&\psi^{\dagger}_{+} \sim V_{(\frac{1}{2},1)} \sim e^{i \phi} \\
		&{\psi}^{\dagger}_{-} \sim V_{(\frac{1}{2},-1)}^\dagger \sim e^{-i\overline{\phi}}.
	\end{aligned}
\end{equation}
This convention ensures that the density fluctuation can be written down as the spatial derivative of the scalare field $\varphi$, rather than the spatial derivative of its dual field $\theta$, which is consistent with the fact that we already choose $\varphi$ to write down the Hamiltonian density.\\

\noindent {\bf Construction approach of abelian bosonization dictonary} \\
The above bosonization convention is not natural to understand. One may use a hydrodynamic viewpoint to construct the bosonization. First it is convenient to identify the totoal fermin charge density as 
\begin{equation}
	\rho(x) \sim \partial_x \varphi,
\end{equation}
which can be seen as the definition of the scalar $\varphi$. This also means we identify the fermion charge density to the momentum of $\theta$ scalar field. 

A fermion creation or annihalation operator changes the fermion charge, hence the scalar $\varphi(x)$. The momentum operator satisfies such a requirement. One can choose the scalar operator $e^{i (j_0 - \bar{j}_0) \theta(x)/2} \sim e^{i \theta(x)/2}$ to construct the fermion operator. The last missing part is the Fermi-Dirac anticommutation relation. One can use the Jordan-Wigner transformation to realize the Fermi-Dirac condtion. In conclusion the fermion operator must take the form $\psi \sim e^{i\theta/2} e^{i\varphi/2}$.
\\

\noindent {\bf Bosonization dictonary} \\
In the following we are going to show how to express physical quantities of free fermion theory in terms of free compact boson. Using the convention discussed above, the fermion density reads
\begin{equation}
	\begin{aligned}
		\rho(x) = \bar{\psi} \gamma^0 \psi \sim i \left(\partial \varphi - \bar{\partial} \varphi\right) \sim \partial_x \varphi \sim j_1^\varphi \sim j_0^\theta  
	\end{aligned}
\end{equation}
It is clear that the fermion charge corresponds to magnetic charge for the dual scalar field $\theta$ or the winding number of the scalar field $\varphi$. 

The axial current density maps to 
\begin{equation}
	\rho_a = -i \bar{\psi} \sigma^y \psi \sim \left( \psi^{\dagger}_{+} \psi_{+} - \psi^{\dagger}_{-}\psi_{-} \right) \sim i \left(\partial \varphi + \bar{\partial} \varphi\right) \sim j_1^\theta \sim j_0^\varphi
\end{equation}
which is the electronic charge of the scalar $\varphi$ or the vertex topological charge of the dual scalar $\theta$. 

A mass term is mapped to be 
\begin{equation}
	\bar{\psi} \psi \sim \psi_{+}^\dagger \psi_{-} + \psi_{-}^\dagger \psi_{+} \sim e^{i\varphi} + h.c. \sim \cos\left(\varphi\right)
\end{equation}
whose dimensional is $\left(1/2,1/2\right)$.


\subsubsection{Bosonization on the lattice} 
On the lattice, the slow modes are those close to the Fermi point $\pm k_f$. Assuming the energy dispersion 
\begin{equation}
	E_k \sim -\cos (k),
\end{equation}
one can identify fermions around $\mp k_f$ as the left/right mover $\psi_{+}$/$\psi_{-}$. Note there is another subtle point that we have normalized the correlation of fermion fields to $\expval{\psi_{+}\psi_{+}^\dagger} \sim \frac{1}{z}$, while the canonical anticommutation relation requires the two-point correlation $\frac{1}{2\pi}\frac{1}{z-w}$. This can be shown explicitly via (here we showed the expectation of the anticommutator)
\begin{equation}
	\begin{aligned}
		\psi_{+}\psi_{+}^\dagger & \sim \frac{1}{z-w} = \lim_{\epsilon\rightarrow 0} \frac{1}{\epsilon + i\left(x-y\right)} = -i\,P\left(\frac{1}{x-y}\right) + \pi \delta(x-y)\\
		\psi_{+}^\dagger\psi_{+} & \sim \frac{1}{w-z} = \lim_{\epsilon\rightarrow 0} \frac{1}{\epsilon + i\left(y-x\right)} = +i\,P\left(\frac{1}{x-y}\right) + \pi \delta(x-y)\\
		\anticommutator{\psi_{+}}{\psi_{+}^\dagger} & \sim \psi_{+}\psi_{+}^\dagger + \psi_{+}^\dagger\psi_{+} \sim 2\pi \delta(x-y)
	\end{aligned}
\end{equation}


Thus one identifies that the slow modes are close to $\pm k_f$ ($k_f > 0$),
\begin{equation}
	\begin{aligned}
		c\left(t,x\right) \sim e^{-ik_f \left( t+x \right)} \psi_{+}/\sqrt{2\pi} + e^{-ik_f\left(t-x\right)} \psi_{-}/\sqrt{2\pi}.
	\end{aligned}
\end{equation} 
\textcolor{red}{Q: Should we use $4\pi$ here? The holomorphic and antiholomorphic both contributes a factor $\delta(x-y)$, which gives rise a wrong anticommutator for the lattice fermion $c$. Is this the fermion doubling problem?} A probaly better understanding is to treat the two branches independently
\begin{equation}
	\begin{aligned}
		c_{+}\left(t,x\right) &\sim \frac{1}{\sqrt{2\pi}}e^{-ik_f \left( t+x \right)} \psi_{+}\\
		c_{-}\left(t,x\right) &\sim \frac{1}{\sqrt{2\pi}}e^{-ik_f\left(t-x\right)} \psi_{-}.
	\end{aligned}
\end{equation}


The lattice fermon density is 
\begin{equation}
	\begin{aligned}
		2\pi\,\rho :=& 2\pi\,c^\dagger c \sim 2\pi \rho_0 + \psi_{+}^\dagger \psi_{+} + \psi_{-}^\dagger \psi_{-} + \left(e^{2i k_f}\psi_{+}^\dagger \psi_{-} + h.c. \right) \\
		=&  2\pi \rho_0 +  i \left(\partial \varphi - \bar{\partial} \varphi\right) + 2 \cos (\varphi + 2k_f x) \\
		=& 2\pi \rho_0 +  \partial_x \varphi + 2 \cos (\varphi + 2k_f x)
	\end{aligned}
\end{equation}
where $\rho_0$ is added since the lattice operator is not normalized. The total charge is given by 
\begin{equation}
	Q \sim \int \rho \sim Q_0 + 2e
\end{equation}
\\

\noindent {\bf Symmetries on the lattice} \\
The fermions on the lattice has a global $U(1)$ symmetry and translation invarariance $T$, defined as
\begin{equation}
	\begin{aligned}
		&c_n \rightarrow e^{i\alpha} c_n \\
		&c_n \rightarrow c_{n+1}
	\end{aligned}
\end{equation} 
while for the field theory they are realized very differently
\begin{equation}
	\begin{aligned}
		&\psi \rightarrow e^{i\alpha} \psi \\
		&\psi \rightarrow e^{-i k_f \sigma^z}\psi.
	\end{aligned}
\end{equation} 
They becomes the internal symmetry for the field theory. Interestingly, they are related to the chiral symmetry. It is known as an quantum anomaly, which prohibits a symmetric gapped ground state.  \\


\noindent {\bf Renormalization effect from the interaction} \\
As analysed above, the density-density interactions become free in the bonson language.
However, it should be noted that, this renormalization or mapping procedure should be 
done in the \textbf{\textit{Hamiltonian}} language since the density-density
interactions are equal-time process. Note that chaning the radius is not something
simply multipling the scalar $\varphi$ with a factor. One should remember that this is
a quantum theoy and in the whole process we heavily rely on the current operators. For 
example, the spatial derivative $\partial_x \varphi$ is related to the magnetic charge, 
which gets a factor $R$, while the time derivative $\partial_0\varphi$ is related the 
electric charge, which obtains a factor $1/R$. Or in a different viewpoint, in a 
quantum theory ($t=0$), the time derivative part $\partial_0\varphi$ should be 
understood as the corresponding canonical momentum $\Pi$. Once we build up the 
mapping, the calculation of free compact boson can be carried out in the Lagrangian 
framework, which is simply a computation technique. One can find the two 
density-density interactions discussed above change the radius of the free compact 
boson from $1$ to $R$. 

Another point is how to understand the fermion operator in an interacting theory. The correct logic is that the bosonization build up the relation between the fermion operator and the scalar field on the algebra level. The true ground state after the interaction effect is the one of the renormalized free scalar theory. To calculate, for example the correlation function with respect to the true ground state (after the renormalization of the interaction), one should write down the fermon operator in terms of the new scalar field 
\begin{equation}
	\psi_{+}^\dagger := V_{(\frac{1}{2},1)}\sim e^{i\phi_0} \sim e^{i\frac{\varphi_0}{2}} e^{i\frac{\theta_0}{2}} \sim e^{i\frac{\varphi}{2R}}e^{i\frac{\theta R}{2}} \sim e^{i\left(\frac{1}{2R}+\frac{R}{2}\right)\phi}e^{i\left(\frac{1}{2R}-\frac{R}{2}\right)\bar{\phi}}
\end{equation} 
where $\varphi_0$ and $\theta_0$ denote the bare scalar fields.


\subsubsection{Bosonization for quantum spin chains}
We assume there is a $xx$ model 
\begin{equation}
	H = \frac{1}{2}\sum_n \left(\sigma_n^x\sigma_{n+1}^x + \sigma_n^y\sigma_{n+1}^y \right) = \sum_n \left(S^\dagger_n S^{-}_{n+1} + h.c.\right)
\end{equation}
where $S^\dagger := \sigma^x + i\sigma^y$. Indentifying the up spin state to the empty fermion state
\begin{equation}
	\begin{aligned}
		&\ket*{\uparrow} \leftrightarrow \ket*{0}\\
		&\ket*{\downarrow} \leftrightarrow \ket*{1}
	\end{aligned}
\end{equation}
one can use the transformation
\begin{equation}
	\begin{aligned}
		S_n^z &= \frac{1}{2} - c_n^\dagger c_n \\
		S_n^\dagger &= \left(-1\right)^n c_n \prod_{i<n}e^{i\pi\,c_i^\dagger c_i} \\
		&= (-1)^n \left( e^{-ik_f x} e^{i\phi} + e^{i\overline{\phi}}\right) e^{i\frac{\theta}{2}} \\
		&= (-1)^n e^{i\varphi/2} + e^{i\varphi/2} e^{i\theta}
	\end{aligned}
\end{equation}
to rewrite the spin model as 
\begin{equation}
	H = -\sum_n \left(c_n^\dagger c_{n+1} + h.c.\right) = -2\sum_k \cos(k)\,c_k^\dagger c_k.
\end{equation}
From the dispersion, one can find that the fermi point $k_f = \pi/2$. 

In terms of scalar fields, spin operators are expressed as 
\begin{equation}
	\begin{aligned}
		S^z(x) &\sim - \frac{1}{2\pi}\partial_x \theta - \left(-1\right)^x\frac{1}{\pi}\cos (\theta) \\
		S^\dagger(n) &\sim \left(-1\right)^n c_n \prod_{i<n}e^{i\pi\,c_i^\dagger c_i} \\
		& \sim (-1)^n \left( e^{-ik_f x} e^{-i\phi} + e^{ik_f x}e^{i\bar{\phi}}\right) e^{i\pi \int \left(\frac{1}{2\pi}\partial_x \varphi + \frac{1}{2}\right)}\\
		&\sim (-1)^n \left( e^{-i\phi} + e^{2ik_f x} e^{i\bar{\phi}}\right) e^{i\frac{1}{2} \varphi}\\
		&\sim (-1)^n e^{-i\theta/2} + e^{-i\theta/2} e^{i\varphi}
	\end{aligned}
\end{equation}

\noindent {\bf Correlation functions} \\
Using the mapping above, one can calculate the equal-time spin-spin operator correlation functions
\begin{equation}
	\begin{aligned}
		\expval{S^\dagger_n S^-_0} &\sim (-1)^n \frac{1}{r^{1/2R^2}} + \frac{1}{r^{2R^2+1/2R^2}}. \\
		\expval{S_n^z S^z_0} &\sim \frac{1}{r^2} + (-1)^n\frac{1}{r^{2R^2}}
	\end{aligned}
\end{equation}
where $R$ is the raidus of the free compact boson.\\

\noindent {\bf Possible relevant perturbations and boudary states} \textcolor{red}{revision needed} \\
As analysed in the last section for the free fermions, the $U(1)$ symmetry and translation $T$ are anomalous that they prevent the existence of a symmetric gapped ground state. The mixed anomaly can also be the $U_\phi(1)$ and $U_\theta (1)$. Here we consider perturbations breaking at least part of the symmetries.\\


(1) Uniform magnetic field in the $xy$ plane.
Recal that the spin operator in the boson field language reads
\begin{equation}
	S^\dagger \sim (-1)^n e^{-i\varphi/2} + e^{-i\varphi/2} e^{i\theta}.
\end{equation}
The first term has strong phase fluctuation. The contribution to the uniform magnetic field thus becomes
\begin{equation}
	\begin{aligned}
		& e^{-i\varphi (n) /2} - e^{-i\varphi(n+1)/2} \sim \partial_x \varphi
	\end{aligned} 
\end{equation}
which is noting but the $U_\theta(1)$ charge density. The second term is the vertex operator $V_{(1,1)}$ with a scaling dimension $\Delta_{(1,1)} = \frac{1}{R^2} + \frac{R^2}{4}$

It pinns down the $\varphi$ field, hence breaks the $U_\varphi (1)$ symmetry. \\

 (2) Uniform magnetic field in the $z$ direction.
One finds
\begin{equation}
	S^z \sim - \frac{1}{2\pi}\partial_x \theta - \left(-1\right)^x\frac{1}{\pi}\cos (\theta)	
\end{equation}
tends to pin down the $\theta$ field, hence breaks the $U_\theta (1)$ symmetry. In the gapless Luttinger liquid phase, the $\cos(\theta)$ operator becomes \textcolor{red}{irrelevant}. There is emergent $U_\theta(1)$ symmetry at the thermodynamic limit.\\
 
(3) Spin-Peierls (dimerization or VBS)
\begin{equation}
	\begin{aligned}
		D(n) & := \left(-1\right)^n \left( S^x_n S^x_{n+1} + S^y_n S^y_{n+1} \right) \sim \sin (\theta)
	\end{aligned}	
\end{equation}
This term pinns down the $\theta$ field, hence breaks the $U_\theta (1)$ symmetry. It also breaks the translation symmetry, which is realized by $\theta \rightarrow \theta + \pi$ and $\varphi \rightarrow \varphi + 2\pi$.
